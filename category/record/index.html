
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="lnw143">
      
      
        <link rel="canonical" href="https://lnw143.github.io/blog/category/record/">
      
      
        <link rel="prev" href="../poly/">
      
      
        <link rel="next" href="../string/">
      
      
      <link rel="icon" href="../../favicon.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.17">
    
    
      
        <title>Record - Liam's Blog</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Sans:300,300i,400,400i,700,700i%7CFira+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Fira Sans";--md-code-font:"Fira Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <script src="../../assets/javascripts/toggle-sidebar.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#record" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Liam&#39;s Blog" class="md-header__button md-logo" aria-label="Liam's Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.15 19h-5.76v-2.13c2.11-1.62 3.2-3.63 3.2-6.03 0-1.5-.43-2.68-1.27-3.55C14.47 6.42 13.37 6 12.03 6c-1.35 0-2.46.42-3.32 1.3-.87.87-1.3 2.07-1.3 3.58 0 2.38 1.09 4.38 3.2 5.99V19H4.85v-2.13h3.56c-2.37-1.55-3.56-3.64-3.56-6.27 0-2.1.65-3.74 1.96-4.94 1.31-1.21 3.03-1.81 5.16-1.81 2.18 0 3.92.6 5.22 1.79 1.31 1.19 1.96 2.86 1.96 4.94 0 2.63-1.2 4.73-3.6 6.29h3.6z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Liam's Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Record
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="white"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/lnw143/blog" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    blog
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../.." class="md-tabs__link">
          
  
  
    
  
  主页

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../geometry/" class="md-tabs__link">
          
  
  
    
  
  Geometry

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../poly/" class="md-tabs__link">
          
  
  
    
  
  Poly

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../number-theory/" class="md-tabs__link">
          
  
  
    
  
  Number Theory

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../math/" class="md-tabs__link">
          
  
  
    
  
  Math

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../string/" class="md-tabs__link">
          
  
  
    
  
  String

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../theory/" class="md-tabs__link">
          
  
  
    
  
  Theory

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../codeforces/" class="md-tabs__link">
          
  
  
    
  
  Codeforces

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../gmoj/" class="md-tabs__link">
          
  
  
    
  
  GMOJ

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../record/" class="md-tabs__link">
          
  
  
    
  
  Record

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../misc/" class="md-tabs__link">
          
  
  
    
  
  Misc

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Liam&#39;s Blog" class="md-nav__button md-logo" aria-label="Liam's Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.15 19h-5.76v-2.13c2.11-1.62 3.2-3.63 3.2-6.03 0-1.5-.43-2.68-1.27-3.55C14.47 6.42 13.37 6 12.03 6c-1.35 0-2.46.42-3.32 1.3-.87.87-1.3 2.07-1.3 3.58 0 2.38 1.09 4.38 3.2 5.99V19H4.85v-2.13h3.56c-2.37-1.55-3.56-3.64-3.56-6.27 0-2.1.65-3.74 1.96-4.94 1.31-1.21 3.03-1.81 5.16-1.81 2.18 0 3.92.6 5.22 1.79 1.31 1.19 1.96 2.86 1.96 4.94 0 2.63-1.2 4.73-3.6 6.29h3.6z"/></svg>

    </a>
    Liam's Blog
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lnw143/blog" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    blog
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    主页
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            主页
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    归档
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            归档
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2024/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2024
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" checked>
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    分类
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            分类
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../codeforces/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Codeforces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../gmoj/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GMOJ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../geometry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Geometry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Graph
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../math/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Math
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../misc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Misc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../number-theory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Number Theory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../poly/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Poly
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
      
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Record
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Record
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#2025-年-8-月及以前做题记录" class="md-nav__link">
    <span class="md-ellipsis">
      2025 年 8 月（及以前）做题记录
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#计数-DP-技巧" class="md-nav__link">
    <span class="md-ellipsis">
      计数 DP 技巧
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#训练记录" class="md-nav__link">
    <span class="md-ellipsis">
      训练记录
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#AtCoder-训练记录" class="md-nav__link">
    <span class="md-ellipsis">
      AtCoder 训练记录
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../string/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    String
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../theory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Theory
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../geometry/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Geometry
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Geometry
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../poly/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Poly
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Poly
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../number-theory/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Number Theory
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Number Theory
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../math/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Math
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Math
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../string/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    String
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            String
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../theory/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Theory
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Theory
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../codeforces/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Codeforces
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Codeforces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../gmoj/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    GMOJ
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            GMOJ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../record/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Record
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Record
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../misc/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Misc
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Misc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#2025-年-8-月及以前做题记录" class="md-nav__link">
    <span class="md-ellipsis">
      2025 年 8 月（及以前）做题记录
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#计数-DP-技巧" class="md-nav__link">
    <span class="md-ellipsis">
      计数 DP 技巧
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#训练记录" class="md-nav__link">
    <span class="md-ellipsis">
      训练记录
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#AtCoder-训练记录" class="md-nav__link">
    <span class="md-ellipsis">
      AtCoder 训练记录
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="record">Record</h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/lnw143.png" alt="Liam">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2025-08-05 00:00:00+00:00">2025年8月5日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="./" class="md-meta__link">Record</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 4 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="2025-年-8-月及以前做题记录"><a class="toclink" href="../../record/2025-08/">2025 年 8 月（及以前）做题记录</a></h2>
<p>可能会不定时放一些远古时代的题目。</p>
<h4 id="NOI2005-月下柠檬树"><a class="toclink" href="../../record/2025-08/#NOI2005-月下柠檬树"><a href="https://www.luogu.com.cn/problem/P4207">[NOI2005] 月下柠檬树</a></a></h4>
<p>平面几何，自适应辛普森法求面积，预处理圆的公切线，求值时单点取 max。</p>
<p>复习一下 simpson 公式 <span class="arithmatex">\(\dfrac {r-l} 6 (f(l)+f(r)+4f(\dfrac {l+r} 2))\)</span>。</p>
<p>注意如果超时可以去除层数的限制。</p>
<h4 id="HAOI2015-数组游戏"><a class="toclink" href="../../record/2025-08/#HAOI2015-数组游戏"><a href="https://www.luogu.com.cn/problem/P3179">[HAOI2015] 数组游戏</a></a></h4>
<p>博弈论翻棋子游戏 + 整除分块，感觉还是挺结论的。可能考场上打表或者认真思考也可以发现。</p>
<h4 id="Hard-Life"><a class="toclink" href="../../record/2025-08/#Hard-Life"><a href="https://www.luogu.com.cn/problem/UVA1389">Hard Life</a></a></h4>
<p>网络流最大权闭合子图模板，参考的<a href="https://www.luogu.com.cn/article/uu28h2cn">这篇题解</a>。</p>
<h4 id="PA-2022-Mędrcy"><a class="toclink" href="../../record/2025-08/#PA-2022-Mędrcy"><a href="https://www.luogu.com.cn/problem/P9257">[PA 2022] Mędrcy</a></a></h4>
<p>好像是随机跳到的？</p>
<p>考虑从 corner case 开始到一般，这种每个人都绝顶聪明的推理要从每个人的视角考虑是否出现矛盾，即假设自己没有不知道的咒语，看他人的反应和基本公理是否冲突，可推断自己的状态。</p>
<p>最后得出结论求最小点覆盖，由于点数 <span class="arithmatex">\(k \le 30\)</span>，可用 <span class="arithmatex">\(T(n) = T(n-1) + T(n-3)\)</span> 的最小点覆盖做到可以接受的复杂度（朴素做法 <span class="arithmatex">\(\mathrm{O}(2^k)\)</span>），<a href="https://www.luogu.com/article/y6z3t3oj">参考</a>。</p>
<p>有空补一下 CF164D。</p>
<h4 id="UR-6懒癌"><a class="toclink" href="../../record/2025-08/#UR-6懒癌"><a href="https://uoj.ac/problem/76">【UR #6】懒癌</a></a></h4>
<p>感觉还是比较抽象的，首先考虑一个人什么时候开枪，由于每个人都知道整个有向图，所以每个人可以从自己的狗没病的情况出发，在符合自己所见的情况中枚举所有可能状态，取最大值后+1即为开枪时间。转移成环的话都不开枪（相当于每个人都在等别人开枪）。</p>
<p>然后这个转化就抽象了，我们首先建一个有向图，图中边 <span class="arithmatex">\(u \to v\)</span> 存在当且仅当 <span class="arithmatex">\(u\)</span> 看不见 <span class="arithmatex">\(v\)</span>，然后考虑一个病的状态 <span class="arithmatex">\(s\)</span>，将有向图上的 <span class="arithmatex">\(s\)</span> 中的点染黑，发现每次选择一个人转移相当于枚举 <span class="arithmatex">\(u \in s\)</span>，然后将 <span class="arithmatex">\(u\)</span> 染白，将 <span class="arithmatex">\(u\)</span> 的出边的一个子集染黑，求最大操作次数（做一次+1）。因为我们对有病的狗的主人的开枪时间取 min，所以每次只选除自己外可达前驱中没有黑点的黑点染白（不然的话选前驱会更小，前驱会再次染黑这个点，避免冗余操作）。显然黑点越多操作次数不降，而且转移成环相当于有向图中的一个环不停转圈，所以考虑缩点。如果一个强连通分量由至少 2 个点缩成，即存在环，那么这个强连通分量内以及它的前驱都不能染黑，否则没人开枪。然后考虑剩余点中染黑一个子集，发现策略是能染黑就染黑，且每个点只会染白一次，于是所有初始黑点的可达后继求个并集，大小就是开枪时间。</p>
<p>那么开枪人数呢？发现一个状态中开枪人数是取到 min 值的位置数，而为了取到 min 值，上面有提到只选除自己外前驱中没有黑点的黑点，计数是显然的。</p>
<p>用 bitset 优化求可达点集做到 <span class="arithmatex">\(\mathrm{O}(\dfrac {n^3} \omega)\)</span>。</p>
<h4 id="UR-19前进四"><a class="toclink" href="../../record/2025-08/#UR-19前进四"><a href="https://uoj.ac/problem/515">【UR #19】前进四</a></a></h4>
<p>Segment Beats。</p>
<p>可以兔队线段树做到 2log，不足以通过。</p>
<p>考虑离线，对序列进行扫描线，维护时间轴。每次扫到一个数，它在时间轴上呈现若干个区间，且这些区间总个数是 <span class="arithmatex">\(\mathrm{O}(n+q)\)</span> 的。操作时对区间取 min 并记录有效取 min 次数，可以 Segment Beats <span class="arithmatex">\(\mathrm{O}((n+q)\log n)\)</span> 解决。</p>
<p>有空补 <a href="https://www.luogu.com.cn/problem/P6242">线段树 3</a>。</p>
<h4 id="NOI2018-情报中心"><a class="toclink" href="../../record/2025-08/#NOI2018-情报中心"><a href="https://www.luogu.com.cn/problem/P4775">[NOI2018] 情报中心</a></a></h4>
<p>赛时没有认真思考，感觉看完题解好像没什么难点。</p>
<p>关键在于想到将贡献分拆在 lca 上，然后是带权直径的板子，可能会有一点细节。正解是分讨，会复杂许多。</p>
<h4 id="NordicOI-2022-能源网格-Power-Grid"><a class="toclink" href="../../record/2025-08/#NordicOI-2022-能源网格-Power-Grid"><a href="https://www.luogu.com.cn/problem/P10644">[NordicOI 2022] 能源网格 Power Grid</a></a></h4>
<p>想着数论做法，一边 assert 一边拍验证结论，大脑直接放空，导致获得 0 分。</p>
<p>还是要独立思考，发现自己在无脑猜结论时出去洗把脸。</p>
<p>主要是思路错了，一直 dfs 导致极其低效，做了 1h 后就应该反思或者放弃，正解思路有一点重合，感觉还是没有 bfs 式想题。</p>
<h4 id="ROI-2024-无人机比赛-Day-2"><a class="toclink" href="../../record/2025-08/#ROI-2024-无人机比赛-Day-2"><a href="https://www.luogu.com.cn/problem/P11118">[ROI 2024] 无人机比赛 (Day 2)</a></a></h4>
<p>被低年级选手单调队列 /ll</p>
<p>重点在于发现前缀严格最大值只有 <span class="arithmatex">\(\mathrm O(\sqrt n)\)</span> 且只有这些位置有意义。然后拆贡献得到几个 <span class="arithmatex">\(\sum\)</span> 后再根号平衡下就可以得到 <span class="arithmatex">\(\mathrm O(n \sqrt n)\)</span> 的做法。</p>
<p>错误之一是没想到是根号，一直想 log 的部分分。然后是没拆贡献，感觉还是 trick 没有把握好。</p>
<h4 id="WC2016-挑战NPC"><a class="toclink" href="../../record/2025-08/#WC2016-挑战NPC"><a href="https://www.luogu.com.cn/problem/P4258">[WC2016] 挑战NPC</a></a></h4>
<p>一般图最大匹配，感觉还是挺考思维的。</p>
<h4 id="AGC005E-Sugigma-The-Showdown"><a class="toclink" href="../../record/2025-08/#AGC005E-Sugigma-The-Showdown"><a href="https://atcoder.jp/contests/agc005/tasks/agc005_e">AGC005E Sugigma: The Showdown</a></a></h4>
<p>AGC 还是太吃思维了，什么时候可以战胜 /yiw</p>
<p>关键在于注意到如果一条边在另一树上两点距离大于 2 会 inf，于是只考虑距离为 1,2 的边。</p>
<p>又发现在对手的树上一定会深度递增（以对手起点为根），于是对手会不停向当前点走，即策略可定，dfs 找最优解即可。</p>
<h4 id="P8864-KDOI-03序列变换"><a class="toclink" href="../../record/2025-08/#P8864-KDOI-03序列变换"><a href="https://www.luogu.com.cn/problem/P8864">P8864 「KDOI-03」序列变换</a></a></h4>
<p>第一次被决策单调性打败，深刻认识到自己什么都不会。</p>
<p>赛时写了一个复杂 DP，没有想到更简单的形式，可能是后续优化没能进行的原因。</p>
<p>关键在于简单地刻画相邻两个不同位置最多 <span class="arithmatex">\(k\)</span> 个，发现可以刻画成最多 <span class="arithmatex">\(\lfloor \dfrac k 2 \rfloor\)</span> 连续的 1 段，奇数时特殊处理下。</p>
<p>于是用 <span class="arithmatex">\(w_{l,r}\)</span> 表示所有的 <span class="arithmatex">\([l,r]\)</span> 中的 1 移动到一起的花费，因为一定取中位数为中心最优，可以 <span class="arithmatex">\(\mathrm O(n^2)\)</span> 预处理。</p>
<p>然后发现转移是 <span class="arithmatex">\(k\)</span> 次 <span class="arithmatex">\((\min,+)\)</span> 矩阵乘法，于是快速幂做到 <span class="arithmatex">\(\mathrm O(n^3 \log k)\)</span>，运用神秘的决策单调性可以做到 <span class="arithmatex">\(\mathrm O(n^2 \log k)\)</span>。</p>
<h4 id="JOISC-2024-Day2-棋盘游戏"><a class="toclink" href="../../record/2025-08/#JOISC-2024-Day2-棋盘游戏"><a href="https://www.luogu.com.cn/problem/P10433">[JOISC 2024 Day2] 棋盘游戏</a></a></h4>
<p>可能看到 <span class="arithmatex">\(5 \times 10 ^ 4\)</span> 已经不知所措了，赛场上打了 17 分还挂了。</p>
<p>关键在于想到其他 <span class="arithmatex">\(k-1\)</span> 个棋子有两种决策，就是在两个棋子之间跳或者围着一个棋子跳，所以 <span class="arithmatex">\(1\)</span> 号点每多经过一个停止单元格就会增加至少 <span class="arithmatex">\(k-1\)</span> 的贡献，所以最多多经过 <span class="arithmatex">\(\lfloor \dfrac n {k-1} \rfloor\)</span> 个。于是有 <span class="arithmatex">\(\mathrm O(\dfrac {n^2} k)\)</span> 的做法。</p>
<p>然后发现 <span class="arithmatex">\(k\)</span> 很小的话可以枚举斜率去切凸包，跑 dij 可以做到 <span class="arithmatex">\(\mathrm O(nk \log n)\)</span>。</p>
<p>平衡下可以做到 <span class="arithmatex">\(\mathrm O(n \sqrt{n \log n})\)</span>。</p>
<p>细节有点多，考察了 01bfs 和 dij。主要难点在于想到一个点对答案贡献是斜率为 1 或 2 的函数，然后想到两种做法后平衡。</p>
<h4 id="P13497-MX-X14-T7墓碑密码"><a class="toclink" href="../../record/2025-08/#P13497-MX-X14-T7墓碑密码"><a href="https://www.luogu.com.cn/problem/P13497">P13497 【MX-X14-T7】墓碑密码</a></a></h4>
<p>FWT 计数题，主要是想到用 FWT 推式子，然后用 __int128 和 popcount 加速计算 <span class="arithmatex">\(\sum_{j \in S} (-1)^{|i\cap j|}\)</span>，可能推式子需要一定的熟练度不然会推错或者做不出来，最后预处理组合数就好了。</p>
<p>还是有一定难度的，有空补 <a href="https://acm.hdu.edu.cn/contest/problem?cid=1175&amp;pid=1010">利物浦集合</a>。</p>
<h4 id="POI-20232024-R1-Satelity"><a class="toclink" href="../../record/2025-08/#POI-20232024-R1-Satelity"><a href="https://www.luogu.com.cn/problem/P9924">[POI 2023/2024 R1] Satelity</a></a></h4>
<p><span class="arithmatex">\(n + \lceil \log_2 n \rceil\)</span> 是显然的，然后就懵逼了。</p>
<p>发现原来可以这么推：设左边 <span class="arithmatex">\(s_l\)</span>，右边 <span class="arithmatex">\(s_r\)</span> 个等价类（不失一般性设 <span class="arithmatex">\(s_l \le s_r\)</span>），设左边最大等价类有 <span class="arithmatex">\(c_l\)</span>，右边有 <span class="arithmatex">\(c_r\)</span> 个，那么花费是 <span class="arithmatex">\(s_l + \lceil \log_2 c_l \rceil + \lceil \log_2 c_r \rceil\)</span>，容易发现 <span class="arithmatex">\(s_l \le n - c_l + 1\)</span>，<span class="arithmatex">\(s_r \le n - c_r + 1\)</span>，又 <span class="arithmatex">\(s_l \le s_r\)</span>，设 <span class="arithmatex">\(x = \max (c_l,c_r)\)</span>，花费不会超过 <span class="arithmatex">\(n-x+1+2\lceil \log_2 x \rceil\)</span>，这个东西超过 <span class="arithmatex">\(n+1\)</span> 是 <span class="arithmatex">\(x=3\)</span> 或 <span class="arithmatex">\(x=5\)</span> 的 corner case，特判即可。</p>
<p>还是比较思维的，以后束手无策时可以考虑设一些量推一推说不定发现上界。</p>
<h4 id="P11692-Ynoi-Hard-Round-2025-十字神名的预言者宏伟色彩"><a class="toclink" href="../../record/2025-08/#P11692-Ynoi-Hard-Round-2025-十字神名的预言者宏伟色彩"><a href="https://www.luogu.com.cn/problem/P11692">P11692 [Ynoi Hard Round 2025] 《十字神名的预言者》宏伟（色彩）</a></a></h4>
<p>lxl 安利的可持久化平衡树题。</p>
<p>先考虑 <span class="arithmatex">\(r=n\)</span> 的情况，发现相当于在值域上从某个区间复制而来，或者再重复几遍然后放到操作的定义域中，并且对其中一段异或上 <span class="arithmatex">\(a\)</span>，于是可以用可持久化平衡树维护。</p>
<p>考虑一般情况下会出现什么状况，可能会产生 <span class="arithmatex">\(r\)</span> 以外的贡献导致答案出错。一般的想法是 pushdown 的时候记录下异或产生的位置并且不合并标记，但是空间可能爆炸。</p>
<p>这时候需要用到取模的性质，即一个数取模不超过 <span class="arithmatex">\(\mathrm O(\log V)\)</span> 次，因为一次取模至少减半。然后考虑 tag 用一个特殊节点表示，即操作点，只有一个儿子，节点本身有异或的信息。从节点内分裂出的子树要重新打上 tag，合并时不对特殊节点进行分裂。</p>
<p>考虑这样做树高时多少，发现从平衡树上一个普通节点往下走后如果不是走到特殊节点那么 size 减半，否则因为取模发生 <span class="arithmatex">\(\log\)</span> 次，所以特殊节点只经过 <span class="arithmatex">\(\log\)</span> 个，总树高还是 <span class="arithmatex">\(\log\)</span> 的。</p>
<p>这里用到了全局平衡思想，即把取模的 <span class="arithmatex">\(\log\)</span> 与平衡树的 <span class="arithmatex">\(\log\)</span> 相加而非相乘，得到更优的复杂度，类似于全局平衡二叉树从树剖处优化而来。</p>
<p>总时间复杂度 <span class="arithmatex">\(\mathrm O(n \log n)\)</span>，不卡常。</p>
<h4 id="AHOI2009-最小割"><a class="toclink" href="../../record/2025-08/#AHOI2009-最小割"><a href="https://www.luogu.com.cn/problem/P4126">[AHOI2009] 最小割</a></a></h4>
<p>求所有最小割方案的并与交。</p>
<p>首先跑一遍网络流，那么一条割边显然满流，如果可以替换掉它，即 <span class="arithmatex">\(u \to v\)</span> 存在增广路的话它无论如何都不会成为割边。</p>
<p>考虑保留残量网络上的有余流的边（包括反向边），强连通分量缩点（分量中的边不会成为割边），那么剩余边中直接将 <span class="arithmatex">\(S\)</span> 所在分量与 <span class="arithmatex">\(T\)</span> 所在分量相连通的边是必割边，剩余的可以构造割与不割的方案，是可行边。</p>
<p>考察了选手对最小割及方案的理解。</p>
<h4 id="WC2007-剪刀石头布"><a class="toclink" href="../../record/2025-08/#WC2007-剪刀石头布"><a href="https://www.luogu.com.cn/problem/P4249">[WC2007] 剪刀石头布</a></a></h4>
<p>有一个大小为 <span class="arithmatex">\(n\)</span> 的竞赛图，其中一些边方向已经给定，要求任意指定剩余边的方向，最大化三元环 <span class="arithmatex">\(u \to v \to w \to u\)</span> 的个数。</p>
<p>由于三元环的个数难以刻画，我们巧妙地将其转化为对于每个点 <span class="arithmatex">\(u\)</span>，其出度为 <span class="arithmatex">\(d\)</span>，那么会导致 <span class="arithmatex">\(\binom d 2\)</span> 对三元组不合法，那么一条未确定的边 <span class="arithmatex">\((u,v)\)</span> 相当于将 <span class="arithmatex">\(u\)</span> 或 <span class="arithmatex">\(v\)</span> 的度数加一，又因为费用递增，保证了费用流的凸性，于是跑最小费用流即可。</p>
<h4 id="P8527-Ynoi2003-樋口円香"><a class="toclink" href="../../record/2025-08/#P8527-Ynoi2003-樋口円香"><a href="https://www.luogu.com.cn/problem/P8527">P8527 [Ynoi2003] 樋口円香</a></a></h4>
<p>可能比较板的分块。</p>
<p>考虑散块暴力，整块统一处理。发现整块可以写成卷积的形式，于是有 <span class="arithmatex">\(\mathrm O(mB + \dfrac n B (n \log n + m))\)</span>，取 <span class="arithmatex">\(B = n \sqrt {\dfrac {\log n} {m}}\)</span> 可以做到 <span class="arithmatex">\(\mathrm O(n \sqrt {m \log n} + m\sqrt{\dfrac m {\log n}})\)</span>，不是很卡常。</p>
<p>发现散块处理的不对可能会 T。</p>
<div class="language-cpp highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1"><span class="k">for</span><span class="p">(;</span><span class="w"> </span><span class="n">f</span><span class="p">[</span><span class="n">l</span><span class="p">]</span><span class="o">==</span><span class="n">f</span><span class="p">[</span><span class="n">l</span><span class="mi">-1</span><span class="p">];</span><span class="w"> </span><span class="o">++</span><span class="n">l</span><span class="p">,</span><span class="o">++</span><span class="n">L</span><span class="p">)</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="n">L</span><span class="p">]</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="n">l</span><span class="p">];</span>
</span><span id="__span-4-2"><span class="k">for</span><span class="p">(;</span><span class="w"> </span><span class="n">f</span><span class="p">[</span><span class="n">r</span><span class="p">]</span><span class="o">==</span><span class="n">f</span><span class="p">[</span><span class="n">r</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span><span class="w"> </span><span class="o">--</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="n">r</span><span class="o">-</span><span class="n">l</span><span class="o">+</span><span class="n">L</span><span class="p">]</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">];</span>
</span></code></pre></div></td></tr></table></div>
<p>像这样直接取编号判断是否合法可能导致超时，应该手动计算散块的范围。</p>
<div class="language-cpp highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1"><span class="kt">int</span><span class="w"> </span><span class="n">ll</span><span class="o">=</span><span class="p">(</span><span class="n">l</span><span class="mi">-1</span><span class="o">+</span><span class="n">B</span><span class="mi">-1</span><span class="p">)</span><span class="o">/</span><span class="n">B</span><span class="o">*</span><span class="n">B</span><span class="p">;</span>
</span><span id="__span-5-2"><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="o">=</span><span class="n">l</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">&lt;=</span><span class="n">ll</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="n">l</span><span class="o">+</span><span class="n">L</span><span class="p">]</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
</span><span id="__span-5-3"><span class="n">L</span><span class="o">+=</span><span class="n">ll</span><span class="o">+</span><span class="mi">1</span><span class="o">-</span><span class="n">l</span><span class="p">,</span><span class="n">l</span><span class="o">=</span><span class="n">ll</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-5-4"><span class="kt">int</span><span class="w"> </span><span class="n">rr</span><span class="o">=</span><span class="n">r</span><span class="o">/</span><span class="n">B</span><span class="o">*</span><span class="n">B</span><span class="p">;</span>
</span><span id="__span-5-5"><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="o">=</span><span class="n">rr</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">&lt;=</span><span class="n">r</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="n">l</span><span class="o">+</span><span class="n">L</span><span class="p">]</span><span class="o">+=</span><span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
</span><span id="__span-5-6"><span class="n">r</span><span class="o">=</span><span class="n">rr</span><span class="p">;</span>
</span></code></pre></div></td></tr></table></div>
<p>可能是少了寻址并加上循环优化的缘故 /yiw</p>
<h4 id="P5068-Ynoi-Easy-Round-2015-我回来了"><a class="toclink" href="../../record/2025-08/#P5068-Ynoi-Easy-Round-2015-我回来了"><a href="https://www.luogu.com.cn/problem/P5068">P5068 [Ynoi Easy Round 2015] 我回来了</a></a></h4>
<h4 id="P4117-Ynoi2018-五彩斑斓的世界"><a class="toclink" href="../../record/2025-08/#P4117-Ynoi2018-五彩斑斓的世界"><a href="https://www.luogu.com.cn/problem/P4117">P4117 [Ynoi2018] 五彩斑斓的世界</a></a></h4>
<h4 id="P8264-Ynoi-Easy-Round-2020-TEST_100"><a class="toclink" href="../../record/2025-08/#P8264-Ynoi-Easy-Round-2020-TEST_100"><a href="https://www.luogu.com.cn/problem/P8264">P8264 [Ynoi Easy Round 2020] TEST_100</a></a></h4>
<h4 id="USACO20DEC-Spaceship-P"><a class="toclink" href="../../record/2025-08/#USACO20DEC-Spaceship-P"><a href="https://www.luogu.com.cn/problem/P7155">[USACO20DEC] Spaceship P</a></a></h4>
<h4 id="USACO20DEC-Cowmistry-P"><a class="toclink" href="../../record/2025-08/#USACO20DEC-Cowmistry-P"><a href="https://www.luogu.com.cn/problem/P7156">[USACO20DEC] Cowmistry P</a></a></h4>
<h4 id="JSOI2018-战争"><a class="toclink" href="../../record/2025-08/#JSOI2018-战争"><a href="https://www.luogu.com.cn/problem/P4557">[JSOI2018] 战争</a></a></h4>
<p>闵可夫斯基和板题，考察平面几何相关。</p>
<p>观察题面猜想导致冲突的方案在 <span class="arithmatex">\(\{a-b |\forall a \in A,b \in B\}\)</span> 构成的凸包中，于是建凸包后求闵可夫斯基和即可，最后二分判断点是否在凸包上。</p>
<p>细节会比较多，比如极角排序的象限。</p>
<h4 id="Ynoi-Easy-Round-2018-星野爱"><a class="toclink" href="../../record/2025-08/#Ynoi-Easy-Round-2018-星野爱"><a href="https://www.luogu.com.cn/problem/P12461">[Ynoi Easy Round 2018] 星野爱</a></a></h4>
<p>带权分块，主要还是考察思想。</p>
<p>比较好写的方法是把邻域拍在序列上然后对序列分块，最后因为卡空间，对每个块分拆贡献，细节会有点多，主要注意散块与整块的贡献方式。</p>
<h4 id="BalkanOI-2011-timeismoney"><a class="toclink" href="../../record/2025-08/#BalkanOI-2011-timeismoney"><a href="https://www.luogu.com.cn/problem/P5540">[BalkanOI 2011] timeismoney</a></a></h4>
<p>最小乘积模型板题，一般结合其他最优化算法，这题是最小生成树，还有<a href="https://www.luogu.com.cn/problem/P3236">二分图最大权匹配</a>，<a href="https://www.luogu.com.cn/problem/P8501">切糕模型</a>，感觉比较考验选手积累。</p>
<h4 id="COTS-2022-移位-Maliand"><a class="toclink" href="../../record/2025-08/#COTS-2022-移位-Maliand"><a href="https://www.luogu.com.cn/problem/P10872">[COTS 2022] 移位 Maliand</a></a></h4>
<p>300b 高质量构造题，比较考验思维。</p>
<p>首先利用鸽巢原理计算出下界 <span class="arithmatex">\(\lceil \dfrac {KL} N\rceil\)</span>，然后考虑如何构造到这个下界。</p>
<p>假设 <span class="arithmatex">\(S\)</span> 填一段前缀的 1，那么要求 T 中任意一段长度为 <span class="arithmatex">\(K\)</span> 的段都不超过 <span class="arithmatex">\(\lceil \dfrac {KL} N\rceil\)</span> 个一，构造得 <span class="arithmatex">\(T_i = \lceil \dfrac {iL} N\rceil-\lceil \dfrac {(i-1)L} N\rceil\)</span>，可以通过万能欧几里得算法的思想得到。</p>
<p>感觉比较 ad-hoc。</p>
<h4 id="CTS2019-重复"><a class="toclink" href="../../record/2025-08/#CTS2019-重复"><a href="https://www.luogu.com.cn/problem/P5404">[CTS2019] 重复</a></a></h4>
<p>比较奇妙的 kmp + DP，可以放在提高 T2 /doge</p>
<p>考虑到用字符串总数减不合法的方案，转化为计算无限重复后每个长度为 <span class="arithmatex">\(|S|\)</span> 的子串字典序都不小于 <span class="arithmatex">\(S\)</span>，那么不断重复相当于在 AC 自动机上转圈，且每次失配都不走小于匹配边或 fail 树上祖先中匹配边的字符，即对每个结点 <span class="arithmatex">\(u\)</span> 记 <span class="arithmatex">\(p_u\)</span> 表示它以及它的祖先匹配的字符中最大的一个，那么每次只能走 <span class="arithmatex">\(\ge p_u\)</span> 的。注意到如果走 <span class="arithmatex">\(\gt p_u\)</span> 的边会失配到根节点，后面的方案可以预处理，那么就是从一个点开始走一段固定的路径后跳到根节点，DP 即可。</p>
<p>时间复杂度 <span class="arithmatex">\(O(n^2)\)</span>，据说用 Lyndon + Poly 可以做到更优复杂度。</p>
<h4 id="HNOI2013-切糕"><a class="toclink" href="../../record/2025-08/#HNOI2013-切糕"><a href="https://www.luogu.com.cn/problem/P3227">[HNOI2013] 切糕</a></a></h4>
<p>切糕模型板题，主要考察建图思想，有空补 <a href="https://www.luogu.com.cn/problem/P6054">[RC-02] 开门大吉</a>。</p>
<h4 id="HNOI2019-校园旅行"><a class="toclink" href="../../record/2025-08/#HNOI2019-校园旅行"><a href="https://www.luogu.com.cn/problem/P5292">[HNOI2019] 校园旅行</a></a></h4>
<p>赛时一开始想了树的情况，发现这不是简单题吗。发现是稠密图后就开始乱搞，赛后看正解发现是保留生成树后跑暴力 /ll</p>
<p>思想还是比较巧妙的，考虑到大量的边并不影响两点答案的存在性。具体地，同色连通块中，若有奇环，那么保留生成树加一个自环，否则保留一棵生成树。异色（黑白交错）则保留生成树即可，容易发现这样不改变答案的存在性。</p>
<h4 id="WC2015-k-小割"><a class="toclink" href="../../record/2025-08/#WC2015-k-小割"><a href="https://www.luogu.com.cn/problem/P4153">[WC2015] k 小割</a></a></h4>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/lnw143.png" alt="Liam">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2025-07-11 00:00:00+00:00">2025年7月11日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="./" class="md-meta__link">Record</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 1 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="计数-DP-技巧"><a class="toclink" href="../../record/count-dp/">计数 DP 技巧</a></h2>
<h3 id="Cat-Jumps"><a class="toclink" href="../../record/count-dp/#Cat-Jumps"><a href="https://atcoder.jp/contests/wtf22-day2-open/tasks/wtf22_day2_d">Cat Jumps</a></a></h3>
<blockquote>
<p>sort: 组合意义</p>
</blockquote>
<p>将形如 <span class="arithmatex">\(\prod _{i=1} ^{n} (x+i)\)</span>，其中 <span class="arithmatex">\(x = \sum_i^n a_i\)</span> 的式子转化为对每个点连一条出边 <span class="arithmatex">\(j\)</span>，权值为 <span class="arithmatex">\(c_i = a_j + [j \le i]\)</span>，所有方案中边权乘积之和。这是因为 <span class="arithmatex">\(\sum \prod_i^n c_i = \prod_i^n \sum c_i\)</span>，而一个 <span class="arithmatex">\(i\)</span> 的所有方案中边权和恰为 <span class="arithmatex">\(i+\sum a\)</span>，故相等。</p>
<p>之后用各类容斥技巧，以及第一、二类斯特林数进行计数。</p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/lnw143.png" alt="Liam">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-07-29 00:00:00+00:00">2024年7月29日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="./" class="md-meta__link">Record</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 1 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="训练记录"><a class="toclink" href="../../record/">训练记录</a></h2>
<p>这里是部分训练记录。</p>
<ul>
<li>
<p><a href="../../record/atcoder/">AtCoder</a></p>
</li>
<li>
<p><a href="../../record/2025-08/">2025.8 做题记录</a></p>
</li>
</ul>
<h3 id="技巧总结"><a class="toclink" href="../../record/#技巧总结">技巧总结</a></h3>
<ul>
<li><a href="../../record/count-dp/">计数类 DP 技巧汇总</a></li>
</ul>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://github.com/lnw143.png" alt="Liam">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-04-21 00:00:00+00:00">2024年4月21日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="./" class="md-meta__link">Record</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 2 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="AtCoder-训练记录"><a class="toclink" href="../../record/atcoder/">AtCoder 训练记录</a></h2>
<p><del><a href="https://atcoder.jp/users/lnw143">先贴上本人主页</a></del></p>
<h3 id="ABC347"><a class="toclink" href="../../record/atcoder/#ABC347"><a href="https://atcoder.jp/contests/abc347/standings?watching=lnw143">ABC347</a></a></h3>
<p><span class="arithmatex">\(\Delta=\color{red}{-24}\)</span></p>
<p><del>蓝名保卫战，极限 1600</del></p>
<p>C 题还是有些思维难度的，最后才做出来，但是不够简洁</p>
<p>E 题忘开 <code>%lld</code> 喜提罚时</p>
<p>D 题最难评，又 WA 又 RE，最后如果输出不符合条件就输出 <code>-1</code> 才过</p>
<p>F 题<a href="https://www.luogu.com.cn/problem/P3625">原题</a>，但是不会（</p>
<p>赛后发现就是一个二维前缀和 + 二位前缀max，还是挺简单的</p>
<p><del>G 题不会</del></p>
<p>赛时打的太急了，罚时太多，速度也被拖慢了，同分的最高 <code>performance</code> 有 2000+，还是代码实现不够快和准</p>
<h3 id="AGC066"><a class="toclink" href="../../record/atcoder/#AGC066"><a href="https://atcoder.jp/contests/agc066/standings?watching=lnw143">AGC066</a></a></h3>
<p><span class="arithmatex">\(\Delta=\color{red}{-21}\)</span></p>
<p><del>E 题原题，还抓了一个抄题解的</del></p>
<p>A 题还是挺水的，只是没想到从奇偶性的角度来想，题解给的是 <span class="arithmatex">\(O(N ^ 2 D)\)</span> 的做法，但是有更优且更简单的做法 <span class="arithmatex">\(O(N ^ 2)\)</span>，但是没想到，还是考思维。</p>
<p>B 题有点愚人节，<code>python</code> 语言优势很大（自带高精度），用几个 <span class="arithmatex">\(5 ^ x\)</span> 拼起来多随机几次就完了，难绷（</p>
<p><del>蓝名没了 /ll</del></p>
<h3 id="ABC348"><a class="toclink" href="../../record/atcoder/#ABC348"><a href="https://atcoder.jp/contests/abc348/standings?watching=lnw143">ABC348</a></a></h3>
<p><span class="arithmatex">\(\Delta=\color{green}{114}\)</span></p>
<p><code>performance</code> 2300+ 祭</p>
<p>0罚时切 A ~ F，<del>让我又想起了那场似的 rating</del></p>
<p>F 题听说比较水，暴力 + O3 可过，但是我用 <code>bitset</code> <span class="arithmatex">\(O(\frac{N ^ 2 M}{\omega})\)</span> 也过了（</p>
<p>G 题决策单调性优化板题，原题两道：<a href="https://atcoder.jp/contests/joisc2019/tasks/joisc2019_j">here</a> &amp; <a href="https://codeforces.com/problemset/gymProblem/104651/L">here</a> <del>（但我不会）</del></p>
<p>upd on 2024.4.14 : G 题改出来了，应用单调性还是比较简单的，但是难在证明</p>
<h3 id="ABC349"><a class="toclink" href="../../record/atcoder/#ABC349"><a href="https://atcoder.jp/contests/abc349/standings?watching=lnw143">ABC349</a></a></h3>
<p><span class="arithmatex">\(\Delta=\color{green}{67}\)</span></p>
<p>A ~ D 都比较顺畅，D 题盲猜 <span class="arithmatex">\(\text{lowbit}\)</span> 喜提机房一血，E 题没开 <code>long long</code> 喜提一发罚时与机房一血</p>
<p>然后就坐着与 F &amp; G 干瞪眼，F 先是用 cdq 尝试水分，后来将不是 <span class="arithmatex">\(M\)</span> 因数的删掉了，还是不行</p>
<p>最后发现 <span class="arithmatex">\(M\)</span> 最多有 <span class="arithmatex">\(13\)</span> 个因数，直接 <span class="arithmatex">\(O(2^{13}N) \approx 1.638 \times 10^9\)</span> 过了，<del>AtCoder 神机</del></p>
<p>但是打得太急，F 题 7 发罚时，最后 4 发最离谱，一发没取模，一发取模太慢 TLE，一发将取模改成减法写错了，最后一发两处取模是 copy 的都错了，漏了一处没改（</p>
<p><span class="arithmatex">\(\color{green}{525} \color{red}{(7)}\)</span> ！！</p>
<p>G 题直接并查集开水，快 T 了就 No，过了一半的数据点</p>
<p>实际上还可以开随机化，因为对于 <span class="arithmatex">\(\forall i\)</span>，有些连边是不需要的，有概率连到与目标解答案相同的状态，但比赛后才想到（</p>
<h3 id="ABC350"><a class="toclink" href="../../record/atcoder/#ABC350"><a href="https://atcoder.jp/contests/abc350/standings?watching=lnw143">ABC350</a></a></h3>
<p><span class="arithmatex">\(\Delta=\color{red}{-6}\)</span></p>
<p>之前的总结写的太笼统了，更像是提要。刚好今天实在是打 emo 了，犯了很多离谱的错误，想写一篇个人直观的反思，从 <code>rating</code> 和 <code>performance</code> 中跳出来，慢慢地审视整个过程。</p>
<p>A 题其实没有问题，可以直接A的，但是把 <code>%03d</code> 写成了 <code>%02d</code> 样例中也没有 <code>ABC001</code>，于是就挂了。</p>
<p>后来几道题一直很慌，越慌，越是想打快。越是快，就越出错。这很严重拖慢了整个切题的速度。C 题本来是没什么问题的，但是急着想过掉它，核心的代码几乎一半是错的，第一发直接罚时，这时心情也是很差了，很焦躁。后来逼迫自己冷静下来，又在草稿纸上画了几下，思路便逐渐清晰，于是便改对了。</p>
<p>到了赛点的后三题后，我其实刚刚松一口气，看到 E 题又自闭了，毕竟概率题上次就栽过，是<a href="https://atcoder.jp/contests/abc342/tasks/abc342_f">ABC342F</a>，这次又看到，心里一紧，只好先尝试 F 题。</p>
<p>F 题读完题后没多久就想到了 dfs，然而实现中还是有一些小错误，如 <code>for</code> 循环里更新 <code>i</code> 的话，它实际上还会 <code>++i/--i</code> 一次，会跳过一个位置。好在没罚时。</p>
<p>切完 F 题后看了一下 G 题，一开始读错题了以为那个在线是假的，高高兴兴拿样例试水发现是错的。没办法，于是看 E 题，结果旁边的人 <del>看我蓝名快没了</del> 好心旁敲侧击，于是想到 DP，中途还有一个自己转移到自己的，想到了之前的<a href="https://atcoder.jp/contests/abc333/tasks/abc333_f">一道题目</a> <del>虽然我没改出来</del> ，于是移项解方程即可。</p>
<p>一开始 <span class="arithmatex">\(10^{18}\)</span> 我认为计搜是过不了的，因此打得不够坚定，还有一个变量重名调了很久，实现不够稳和准。开始是想着拿去水分的，但是直接过了，而且时间也很充裕（7ms）。赛后看题解，计搜时间复杂度实际上是 <span class="arithmatex">\(O(\log^3 n)\)</span>，但是主要问题是不会证明，对自己没有信心，于是犹豫了很久。</p>
<p>到了最后的 G 题，此时还剩下 20 分钟，已经机房内有人切了 G 题。出于对 G 题的潜意识压力以及前面比赛的表现，我此时已经基本失去思考能力了，脑子一片嗡嗡的根本想不到正解，打了一个根本就没概率的随机化过了一半，最后遗憾收场。</p>
<p>机房内同年级的有 4 个人过了 G 题，其中 3 人都是水过的，还包括两个代码相似的人。第四个<a href="https://atcoder.jp/contests/abc350/standings?watching=yangjiaxi">大佬</a>用了 <code>splay</code>。</p>
<p>到这里，你可能认为 G 题还是有点难度的。但是，实际上，这也是我在比赛中犯的最后一个，也是最大的一个错误。</p>
<p>读完 <a href="https://atcoder.jp/contests/abc350/tasks/abc350_g">G 题</a>，其实不难想到如果维护好了森林中的每棵树有确定的根（具体是哪个节点与答案无关），并且维护好了每个点在其所在连通块中的朝向这个根的父亲，那么求解答案是 <span class="arithmatex">\(O(1)\)</span> 的。比赛时这个念头在我脑海里一闪而过，但是很快就被否决了——原因很简单，这个维护过程直观上看是非常不可行的。后来，我转而去想 <code>bitset</code> 时间换空间，但一无所获。</p>
<p>然而，这就是问题所在——用暴力维护这些信息实际上的时间复杂度是正确的！因为每次连边的两个点都是在不同的连通块中，做完这次操作以后它们就会被合并，因此如果我们遍历一遍较小的连通块，总时间复杂度是 <span class="arithmatex">\(O(n\log n)\)</span>！因此，这道 G 题出乎意料地短，甚至比我的随机化代码还要少。</p>
<hr />
<p>写在最后：这次 ABC 可以看到除了少部分人，大多数人都没有取得很理想，甚至可以说糟糕的成绩。比赛结束后，我听到有人在机房里咒骂自己、题目和出题人的。还有人为了 <code>rating</code> 而闷闷不乐，诸如此类。但是有一点他们都错了，我们打比赛不是为了 <code>rating</code> 去打，不是为了成绩去打。以我为例，这次比赛我的 <code>delta</code> 是 <code>-6</code>，相对于之前 <code>2200+</code> 的 <code>performance</code>，可谓是相当的差。但是，在这背后，是我被打乱的做题节奏，被扰乱的心态，是我过于激动的心情。这次比赛，暴露了我很多问题：代码实现不准不细心，读题不仔细，对时间复杂度的不敏感，对时间复杂度证明的不熟练，而这些，都为我提供了宝贵的经验，这远远不是几点 <code>rating</code> 所能给我的。之前还看到旁边的人比赛时一起讨论题目，其实也是十分不应该——如果人人都只在乎 <code>rating</code> 以至于无人在乎算法背后的玄妙，在乎它们的出处与归宿，那么 <code>rating</code> 早已失去它本来的意义了。希望各位在天涯海角的 <code>OIer</code> 都能保住自己的初心，守住心中的一寸净土，为了 <code>OI</code>，<code>ACM</code>，乃至 <code>CS</code> 的明天而砥砺前行。</p>
    
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
          <div class="md-copyright__highlight">
            Copyright © 2024 Liam<br>© 本页面的全部内容在 <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> 和 <a href="https://github.com/zTrix/sata-license">SATA</a> 协议之条款下提供，附加条款亦可能应用
          </div>
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        & 
        <a href="https://github.com/features/actions" target="_blank" rel="noopener">
          GitHub Actions
        </a>
      </div>
      <div class="md-social">
        <a href="https://github.com/lnw143" target="_blank" rel="noopener" title="github" class="md-social__link">
          <img src="https://github.com/fluidicon.png" alt="github">
        </a>
        <a href="https://www.luogu.com.cn/user/767819" target="_blank" rel="noopener" title="luogu" class="md-social__link">
          <img src="https://www.luogu.com.cn/favicon.ico" alt="luogu">
        </a>
        <a href="https://codeforces.com/profile/lnw143" target="_blank" rel="noopener" title="codeforces" class="md-social__link">
          <img src="https://codeforces.org/s/96336/favicon-32x32.png" alt="codeforces">
        </a>
        <a href="https://atcoder.jp/users/lnw143" target="_blank" rel="noopener" title="atcoder" class="md-social__link">
          <img src="https://img.atcoder.jp/assets/logo.png" alt="atcoder">
        </a>
        <a href="https://www.topcoder.com/members/lnw143/" target="_blank" rel="noopener" title="topcoder" class="md-social__link">
          <img src="https://www.topcoder.com/favicon.ico" alt="topcoder">
        </a>
      </div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.select", "content.action.view", "content.code.copy", "navigation.tabs", "navigation.instant", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
	<!-- Add scripts that need to run before here -->
	
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../javascripts/katex.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
        <script src="https://unpkg.com/jquery@3.4.1/dist/jquery.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js"></script>
      
    
	<!-- Add scripts that need to run afterwards here -->
	<!-- music module -->
	<meting-js
		server="netease"
		type="playlist"
		id="12370214543"
		fixed="true"
		loop="all"
		volume="0.3"
	>
	</meting-js>

  </body>
</html>